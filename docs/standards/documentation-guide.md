# MCP文档服务器 - 文档编写指南

## 文档编写原则

### 核心目标
1. **面向用户**: 帮助用户快速了解功能模块和使用方法
2. **面向AI**: 提供结构化信息，支持AI快速理解和迭代开发
3. **持续更新**: 在代码变更时自动或手动更新文档

### 文档质量标准
- **准确性**: 文档内容与代码实现保持一致
- **完整性**: 覆盖所有重要功能和使用场景
- **可读性**: 语言简洁明了，结构清晰
- **时效性**: 与代码版本同步更新

## 文档结构规范

### 三级目录结构
```
{Language}/
└── {Project}/              # 二级：项目目录
    ├── README.md           # 项目总览
    ├── project-info.json   # 项目元数据
    └── {Feature}/          # 三级：功能模块目录
        ├── README.md       # 模块说明
        ├── api.md          # API文档
        ├── implementation.md # 实现细节
        └── metadata.json   # 模块元数据
```

## 文档类型和模板

### 1. 项目级文档 (README.md)

#### 必需章节
```markdown
# 项目名称

## 项目概述
<!-- 简要描述项目的核心功能和价值 -->

## 技术栈
- **编程语言**: {language}
- **主要框架**: {framework}
- **数据库**: {database}

## 架构设计
<!-- 整体架构图和核心模块说明 -->

## 功能模块
<!-- 列出主要功能模块，提供链接 -->

## 开发规范
<!-- 引用通用开发规范，补充项目特有规范 -->

## 部署说明
<!-- 环境配置和部署步骤 -->

## API接口
<!-- 核心API概览，详细接口见模块文档 -->
```

#### 可选章节
- 版本历史
- 贡献指南
- 许可证信息
- FAQ

### 2. 模块级文档 (README.md)

#### 基本结构
```markdown
# 模块名称

## 模块概述
<!-- 模块功能和职责 -->

## 功能特性
<!-- 主要特性列表 -->

## 使用示例
<!-- 基本和高级使用示例 -->

## 配置说明
<!-- 必需和可选配置项 -->

## 错误处理
<!-- 常见异常和处理方法 -->

## 测试
<!-- 测试文件位置和覆盖率 -->
```

### 3. API文档 (api.md)

#### API文档结构
```markdown
# 模块名称 API文档

## API概述
<!-- API设计理念和整体说明 -->

## 接口列表
### {接口分类}
#### {方法名称}
- **功能描述**: {说明}
- **访问路径**: `{path}`
- **请求方法**: `{method}`

**请求参数**:
**响应格式**:
**代码示例**:
**响应码说明**:

## 数据模型
<!-- 关键数据结构定义 -->

## 错误处理
<!-- 错误码和处理策略 -->
```

### 4. 实现细节 (implementation.md)

#### 内容要点
- 核心算法说明
- 设计决策记录
- 性能优化方案
- 已知限制和改进计划
- 代码示例和最佳实践

## 元数据文档规范

### 项目元数据 (project-info.json)
必需字段：
```json
{
  "project_metadata": {
    "name": "项目名称",
    "version": "版本号",
    "language": "编程语言",
    "description": "项目描述"
  },
  "mcp_metadata": {
    "schema_version": "1.0.0",
    "last_ai_update": "更新时间"
  }
}
```

### 模块元数据 (metadata.json)
核心字段：
```json
{
  "module_metadata": {
    "name": "模块名称",
    "description": "模块描述",
    "status": "active|deprecated|planned"
  },
  "ai_context": {
    "complexity_level": "low|medium|high",
    "common_modifications": [],
    "best_practices": []
  }
}
```

## 写作规范

### 语言风格
- 使用简洁明了的中文
- 避免过于技术性的术语，必要时提供解释
- 保持语调一致，专业但易懂

### 格式规范

#### 标题层次
```markdown
# 一级标题 (项目/模块名称)
## 二级标题 (主要章节)
### 三级标题 (子章节)
#### 四级标题 (详细说明)
```

#### 代码示例
```markdown
### 使用示例

#### Java示例
```java
// 中文注释：示例说明
public class Example {
    // 代码内容
}
```

#### GDScript示例
```gdscript
# 中文注释：示例说明
extends Node
class_name Example
```

#### 列表格式
- 使用无序列表表示功能特性
- 使用有序列表表示步骤流程
- 使用任务列表 `- [ ]` 表示功能清单

#### 表格格式
```markdown
| 参数名 | 类型 | 必需 | 说明 |
|--------|------|------|------|
| param1 | String | 是 | 参数说明 |
```

## AI集成指导

### 为AI优化的写作方式

#### 1. 结构化信息
- 使用清晰的章节划分
- 采用一致的格式模板
- 提供丰富的元数据

#### 2. 上下文信息
```markdown
## AI上下文提示
- **模块复杂度**: 中等
- **常见修改类型**: 功能扩展、性能优化
- **依赖关系**: 依赖于认证模块和数据访问层
- **最佳实践**: 使用缓存机制提高性能
```

#### 3. 代码示例要求
- 提供完整的、可运行的示例
- 包含错误处理
- 遵循代码规范
- 添加中文注释解释关键逻辑

## 文档维护流程

### 1. 创建文档
1. 使用对应的文档模板
2. 填写所有必需章节
3. 完善元数据信息
4. 添加代码示例

### 2. 更新文档
1. 代码变更时及时更新文档
2. 定期检查文档准确性
3. 更新元数据中的时间戳
4. 记录变更历史

### 3. 版本管理
- 文档版本与代码版本保持一致
- 使用版本控制跟踪文档变更
- 在提交消息中明确标注文档更新

### 4. 质量检查
- 定期进行文档审查
- 检查链接有效性
- 验证代码示例可执行性
- 确保格式一致性

## 自动化更新机制

### 触发条件
- 代码结构变更
- API接口变更
- 依赖关系变更
- 配置文件变更

### 更新内容
- 自动更新元数据时间戳
- 检测API变更并标记需要更新的文档
- 更新模块依赖关系图
- 生成变更日志

### AI辅助更新
- 基于代码变更自动生成文档草稿
- 识别需要人工审查的复杂变更
- 保持文档与代码的一致性检查

## 最佳实践

### 1. 用户视角
- 从用户角度组织信息
- 提供快速上手指南
- 包含常见问题解答

### 2. 开发者视角
- 详细说明设计决策
- 提供扩展和修改指导
- 记录已知限制和解决方案

### 3. AI视角
- 保持信息结构化
- 提供充分的上下文
- 使用标准化的描述格式

---
*此指南确保MCP文档服务器中的所有文档都能有效支持用户理解和AI辅助开发*
